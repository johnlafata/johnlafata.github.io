# 🚀 Deploying Letta on AWS Fargate – A Quick‑Start Guide (2025)

If you’ve been following Letta’s rise as the go‑to framework for building conversational agents, you’ll know that it’s built for the cloud. In this post we’ll walk through how to spin up a Letta server on AWS Fargate—Amazon’s serverless container platform—so you can focus on your agents instead of the underlying infrastructure.

## TL;DR

* Create an ECS cluster
* Define a Fargate task with the letta/letta:latest image
* Add environment variables (API keys, passwords, DB creds)
* Spin up a Fargate service
* Hook an ALB for production traffic
* Connect to an RDS PostgreSQL instance for persistence

Let’s dive in.

## Why Fargate?
Serverless – No EC2 instances to manage.
Auto‑scaling – Scale your Letta workers up/down with traffic.
Fine‑grained cost – Pay only for the vCPU‑seconds you use.
Integrated with ECS – Leverage familiar ECS concepts (clusters, task definitions, services).
Step‑by‑Step Deployment
Prerequisites

An AWS account with IAM permissions for ECS, ALB, RDS, and VPC.
Docker image letta/letta:latest (public on Docker Hub).
A PostgreSQL database (Amazon RDS or Aurora) for agent state.
An OpenAI or Anthropic API key (if you plan to use LLMs).

1. Create an ECS Cluster

aws ecs create-cluster --cluster-name letta-cluster
Tip: Use the ECS console for a visual setup.

2. Define a Task Definition

Create a JSON file (letta-task.json) with the following:

```
{
  "family": "letta-task",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "512",
  "memory": "1024",
  "executionRoleArn": "arn:aws:iam::ACCOUNT_ID:role/ecsTaskExecutionRole",
  "containerDefinitions": [
    {
      "name": "letta",
      "image": "letta/letta:latest",
      "portMappings": [
        {
          "containerPort": 8283,
          "protocol": "tcp"
        }
      ],
      "environment": [
        { "name": "OPENAI_API_KEY", "value": "sk-..." },
        { "name": "SECURE", "value": "true" },
        { "name": "LETTA_SERVER_PASSWORD", "value": "supersecret" },
        { "name": "POSTGRES_URL", "value": "postgres://user:pass@host:5432/letta" }
      ],
      "essential": true
    }
  ]
}
```

Register it:

`aws ecs register-task-definition --cli-input-json file://letta-task.json`

3. Spin Up a Fargate Service

```
aws ecs create-service \
  --cluster letta-cluster \
  --service-name letta-service \
  --task-definition letta-task \
  --desired-count 2 \
  --launch-type FARGATE \
  --network-configuration "awsvpcConfiguration={subnets=[subnet-abc123],securityGroups=[sg-xyz789],assignPublicIp=ENABLED}"
```

Why 2 tasks? Even a single task can handle a lot, but having a spare ensures high availability.

4. Add a Load Balancer (Optional but Recommended)

Create an Application Load Balancer (ALB) in the same VPC.
Add a target group pointing to port 8283.
Register the Fargate tasks as targets.
Update the service to use the ALB:

```
aws ecs update-service \
  --cluster letta-cluster \
  --service letta-service \
  --load-balancers "targetGroupArn=arn:aws:elasticloadbalancing:region:ACCOUNT_ID:targetgroup/letta-tg/1234567890abcdef,containerName=letta,containerPort=8283"
```

Now your Letta instance is exposed via a DNS name (e.g., app.example.com).

5. Connect to PostgreSQL

If you’re using Amazon RDS:

Ensure the RDS instance is in the same VPC or has a public endpoint.
Add the connection string to the POSTGRES_URL env var.
Open the necessary security group ports (5432).
Letta will automatically create the required tables on first run.

## Letta Cloud offers several pricing tiers - Pricing Snapshot (2025)
| Plan       | Cost      | Limits                                                | Notes                                      |
|------------|-----------|-------------------------------------------------------|--------------------------------------------|
| Free      | $0/mo    | 50 premium, 500 standard requests, 100 agents, 2 templates, 1 GB storage | Great for experimentation                  |
| Pro       | $20/mo   | 500 premium, 5 000 standard, 10 000 agents, 20 templates, 10 GB storage | Ideal for production                       |
| Scale     | $750/mo  | 5 000 premium, 50 000 standard, 10 M agents, 100 templates, 100 GB storage | For large teams                            |
| Enterprise | Custom   | Unlimited agents & storage, custom models, dedicated support | Contact sales                              | 

Tip: If you hit your request quota, enable usage‑based pricing on the Pro plan to keep the service running without interruption.

## Common Pitfalls & How to Avoid Them

| Issue                                   | Fix                                                                                       |
|-----------------------------------------|------------------------------------------------------------------------------------------|
| “Container stopped unexpectedly”       | Check CloudWatch logs for letta container. Often due to missing env vars or DB connectivity. |
| “ALB health check fails”               | Ensure the health check path /health is reachable and the target group uses the correct port. |
| “High latency on first request”       | Letta warms up the LLM on first request. Consider pre‑warming by sending a dummy request after deployment. |
| “Cost spikes”                          | Monitor ECS and ALB metrics. Scale down the desired count during low‑traffic periods.   |    

## Next Steps

Create your first agent – Use Letta’s UI or API to spin up a conversational agent.
Add custom tools – Integrate with your own services via Letta’s tool‑calling framework.
Monitor & Log – Hook CloudWatch Logs and Metrics into your observability stack.
Scale – Adjust the desired count or add more Fargate tasks as traffic grows.
Wrap‑Up
Deploying Letta on AWS Fargate is a breeze once you know the steps. The combination of Letta’s lightweight container image and Fargate’s serverless model gives you a highly scalable, low‑maintenance platform for conversational AI.

## Happy building! 🚀

