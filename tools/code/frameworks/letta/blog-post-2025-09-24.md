# ğŸš€ Deploying Letta on AWSâ€¯Fargate â€“ A Quickâ€‘Start Guide (2025)

If youâ€™ve been following Lettaâ€™s rise as the goâ€‘to framework for building conversational agents, youâ€™ll know that itâ€™s built for the cloud. In this post weâ€™ll walk through how to spin up a Letta server on AWSâ€¯Fargateâ€”Amazonâ€™s serverless container platformâ€”so you can focus on your agents instead of the underlying infrastructure.

## TL;DR

* Create an ECS cluster
* Define a Fargate task with the letta/letta:latest image
* Add environment variables (API keys, passwords, DB creds)
* Spin up a Fargate service
* Hook an ALB for production traffic
* Connect to an RDS PostgreSQL instance for persistence

Letâ€™s dive in.

## Why Fargate?
Serverless â€“ No EC2 instances to manage.
Autoâ€‘scaling â€“ Scale your Letta workers up/down with traffic.
Fineâ€‘grained cost â€“ Pay only for the vCPUâ€‘seconds you use.
Integrated with ECS â€“ Leverage familiar ECS concepts (clusters, task definitions, services).
Stepâ€‘byâ€‘Step Deployment
Prerequisites

An AWS account with IAM permissions for ECS, ALB, RDS, and VPC.
Docker image letta/letta:latest (public on Docker Hub).
A PostgreSQL database (Amazon RDS or Aurora) for agent state.
An OpenAI or Anthropic API key (if you plan to use LLMs).

1. Create an ECS Cluster

aws ecs create-cluster --cluster-name letta-cluster
Tip: Use the ECS console for a visual setup.

2. Define a Task Definition

Create a JSON file (letta-task.json) with the following:

```
{
  "family": "letta-task",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "512",
  "memory": "1024",
  "executionRoleArn": "arn:aws:iam::ACCOUNT_ID:role/ecsTaskExecutionRole",
  "containerDefinitions": [
    {
      "name": "letta",
      "image": "letta/letta:latest",
      "portMappings": [
        {
          "containerPort": 8283,
          "protocol": "tcp"
        }
      ],
      "environment": [
        { "name": "OPENAI_API_KEY", "value": "sk-..." },
        { "name": "SECURE", "value": "true" },
        { "name": "LETTA_SERVER_PASSWORD", "value": "supersecret" },
        { "name": "POSTGRES_URL", "value": "postgres://user:pass@host:5432/letta" }
      ],
      "essential": true
    }
  ]
}
```

Register it:

`aws ecs register-task-definition --cli-input-json file://letta-task.json`

3. Spin Up a Fargate Service

```
aws ecs create-service \
  --cluster letta-cluster \
  --service-name letta-service \
  --task-definition letta-task \
  --desired-count 2 \
  --launch-type FARGATE \
  --network-configuration "awsvpcConfiguration={subnets=[subnet-abc123],securityGroups=[sg-xyz789],assignPublicIp=ENABLED}"
```

Why 2 tasks? Even a single task can handle a lot, but having a spare ensures high availability.

4. Add a Load Balancer (Optional but Recommended)

Create an Application Load Balancer (ALB) in the same VPC.
Add a target group pointing to port 8283.
Register the Fargate tasks as targets.
Update the service to use the ALB:

```
aws ecs update-service \
  --cluster letta-cluster \
  --service letta-service \
  --load-balancers "targetGroupArn=arn:aws:elasticloadbalancing:region:ACCOUNT_ID:targetgroup/letta-tg/1234567890abcdef,containerName=letta,containerPort=8283"
```

Now your Letta instance is exposed via a DNS name (e.g., app.example.com).

5. Connect to PostgreSQL

If youâ€™re using Amazon RDS:

Ensure the RDS instance is in the same VPC or has a public endpoint.
Add the connection string to the POSTGRES_URL env var.
Open the necessary security group ports (5432).
Letta will automatically create the required tables on first run.

## Letta Cloud offers several pricing tiers - Pricing Snapshot (2025)
| Plan       | Cost      | Limits                                                | Notes                                      |
|------------|-----------|-------------------------------------------------------|--------------------------------------------|
| Free      | $0/mo    | 50 premium, 500 standard requests, 100 agents, 2 templates, 1â€¯GB storage | Great for experimentation                  |
| Pro       | $20/mo   | 500 premium, 5â€¯000 standard, 10â€¯000 agents, 20 templates, 10â€¯GB storage | Ideal for production                       |
| Scale     | $750/mo  | 5â€¯000 premium, 50â€¯000 standard, 10â€¯M agents, 100 templates, 100â€¯GB storage | For large teams                            |
| Enterprise | Custom   | Unlimited agents & storage, custom models, dedicated support | Contact sales                              | 

Tip: If you hit your request quota, enable usageâ€‘based pricing on the Pro plan to keep the service running without interruption.

## Common Pitfalls & How to Avoid Them

| Issue                                   | Fix                                                                                       |
|-----------------------------------------|------------------------------------------------------------------------------------------|
| â€œContainer stopped unexpectedlyâ€       | Check CloudWatch logs for letta container. Often due to missing env vars or DB connectivity. |
| â€œALB health check failsâ€               | Ensure the health check path /health is reachable and the target group uses the correct port. |
| â€œHigh latency on first requestâ€       | Letta warms up the LLM on first request. Consider preâ€‘warming by sending a dummy request after deployment. |
| â€œCost spikesâ€                          | Monitor ECS and ALB metrics. Scale down the desired count during lowâ€‘traffic periods.   |    

## Next Steps

Create your first agent â€“ Use Lettaâ€™s UI or API to spin up a conversational agent.
Add custom tools â€“ Integrate with your own services via Lettaâ€™s toolâ€‘calling framework.
Monitor & Log â€“ Hook CloudWatch Logs and Metrics into your observability stack.
Scale â€“ Adjust the desired count or add more Fargate tasks as traffic grows.
Wrapâ€‘Up
Deploying Letta on AWSâ€¯Fargate is a breeze once you know the steps. The combination of Lettaâ€™s lightweight container image and Fargateâ€™s serverless model gives you a highly scalable, lowâ€‘maintenance platform for conversational AI.

## Happy building! ğŸš€

